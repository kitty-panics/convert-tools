#!/usr/bin/env bash

#
# 简体转繁体
#
# 注：
# 需要系统已装 opencc 包
#

# 获取要转换的文件
GET_FILE="$1"

# 判断是否为文件
if [[ -f "$GET_FILE" ]]; then
    opencc -i "$GET_FILE" -o "$GET_FILE.new" -c /usr/share/opencc/s2tw.json
    cp -rf "$GET_FILE.new" "$GET_FILE" && rm -rf "$GET_FILE.new"
else
    echo -e "$GET_FILE" > "$GET_FILE.tmp"
    opencc -i "$GET_FILE.tmp" -o "$GET_FILE.new" -c /usr/share/opencc/s2tw.json && rm -rf "$GET_FILE.tmp"
    cat "$GET_FILE.new" && rm -rf "$GET_FILE.new"
fi
